<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
</head>
<body>
<script>
  //nAdd
  function fun(){//外层函数
    var n=999;//受保护
    //外层函数向外抛出内层函数2种:
    //2. 直接给全局变量赋值
    nAdd=function(){n++};//内层函数1
    //1. return
    return function(){//内层函数2
      console.log(n);
    }
  }//同一次外层函数调用，返回的多个内层函数共用同一个受保护的变量
  var get=fun();
  //get:function(){console.log(n);}
  get();//999
  nAdd();
  get();//1000

//  function fun(){
//    for(var i=0,arr=[];i<3;i++){
//      arr[i]=function(){console.log(i)};
//    }
//    return arr;
//  }
//
//  var funs=fun();//i=3
//  //funs数组内: [
//  // 0: function(){console.log(i)},
//  // 1: function(){console.log(i)},
//  // 2: function(){console.log(i)}
//  // ]
//  funs[0]();//3
//  funs[1]();//3
//  funs[2]();//3
</script>
</body>
</html>